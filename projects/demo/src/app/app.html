<div class="demo-app" [class.dark-mode]="darkMode()">
  <!-- Toolbar -->
  <mat-toolbar color="primary" class="demo-toolbar">
    <button 
      mat-icon-button 
      (click)="toggleSidenav()"
      matTooltip="Toggle navigation"
      aria-label="Toggle navigation">
      <mat-icon>menu</mat-icon>
    </button>
    <span class="title">{{ title }}</span>
    <span class="spacer"></span>
    
    <mat-slide-toggle
      [checked]="darkMode()"
      (change)="toggleDarkMode()"
      matTooltip="Toggle dark mode"
      aria-label="Toggle dark mode">
      @if (!isMobile()) {
        <span class="toggle-label">Dark Mode</span>
      }
    </mat-slide-toggle>
  </mat-toolbar>

  <!-- Sidenav Container -->
  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav 
      #sidenav
      [opened]="sidenavOpened()"
      [mode]="isMobile() ? 'over' : 'side'"
      class="sidenav">
      
      <div class="sidenav-header">
        <mat-icon>view_module</mat-icon>
        <h2>Navigation</h2>
      </div>

      <mat-nav-list>
        @for (item of navItems; track item.route) {
          <a 
            mat-list-item 
            [routerLink]="item.route"
            [activated]="isActiveRoute(item.route)"
            (click)="onNavItemClick()">
            <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
            <span matListItemTitle>{{ item.label }}</span>
          </a>
        }
      </mat-nav-list>

      <div class="sidenav-footer">
        <p>Version 2.0</p>
        <p>Angular 17+</p>
      </div>
    </mat-sidenav>

    <mat-sidenav-content class="main-content">
      <router-outlet />
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>
